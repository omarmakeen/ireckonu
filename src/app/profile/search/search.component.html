<div>
    <app-search-bar class="search-position" (searchText)='getSearchText($event)'></app-search-bar>
    <mat-table class='mat-table' [dataSource]="dataSource" matSort matSortActive="localid" matSortDirection="asc"
        matSortDisableClear *ngIf="dataSource.data.length > 0">
        <ng-container matColumnDef="photo">
            <mat-header-cell *matHeaderCellDef></mat-header-cell>
            <mat-cell *matCellDef="let element"> <img [src]="element.photo"></mat-cell>
        </ng-container>
        <ng-container matColumnDef="localid">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Local ID</mat-header-cell>
            <mat-cell *matCellDef="let element">{{element.localid}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="email">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Email Address</mat-header-cell>
            <mat-cell *matCellDef="let element">{{element.email}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Name</mat-header-cell>
            <mat-cell *matCellDef="let element">
                {{element.first_name + ' ' + element.last_name | personalTitle: element.gender}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="phone">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Phone Number</mat-header-cell>
            <mat-cell *matCellDef="let element">{{element.phone}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="address">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Address</mat-header-cell>
            <mat-cell *matCellDef="let element">{{element.address}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="modified">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Modified</mat-header-cell>
            <mat-cell *matCellDef="let element">{{element.modified | date:'yyyy-MM-dd'}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="view">
            <mat-header-cell *matHeaderCellDef>View</mat-header-cell>
            <mat-cell *matCellDef="let element"><span>></span></mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="tableColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: tableColumns" (click)=openProfile(row)></mat-row>
    </mat-table>
    <app-notification-message [message]="'search.noData' | translate"
        *ngIf="dataSource.filteredData.length === 0 && !isLoading"></app-notification-message>
    <mat-paginator class="table-pagination" [pageSizeOptions]="[10, 50, 100]" showFirstLastButtons
        *ngIf="dataSource.data.length > 0"></mat-paginator>
    <!-- <app-notification-message *ngIf="dataSource.filteredData.length === 0 && !isLoading"></app-notification-message> -->
    <mat-card *ngIf="isLoading" class="spinner" style="display: flex; justify-content: center; align-items: center">
        <mat-progress-spinner color="primary" mode="indeterminate">
        </mat-progress-spinner>
    </mat-card>
</div>